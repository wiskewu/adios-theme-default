style.
    body {
        scroll-behavior: smooth;
    }
    ol.toc-list {
        counter-reset: list-item;
    }
    li.toc-list-item {
        display: block;
        counter-increment: list-item;
    }
    li.toc-list-item::before {
        content: counters(list-item,'.') ' ';
    }
    a.toc-list-item-link {
        text-decoration: none;
    }

    #toc {
        position: fixed;
        right: -22rem;
        top: 0;
        width: 22rem;
        height: 100vh;
        transition: right .3s;
        z-index: 1;
        background-color: var(--toc-bg-color);
    }
    #toc.toc-show {
        right: 0em;
    }
    #toc-container {
        width: 100%;
        height: 100%;
        box-sizing: border-box;
        padding: 2em;
        max-height: 100%;
        overflow-y: auto;
    }
    #toc-container > h3 { margin: 0; margin-bottom: 2em; }
    #toc-container > nav.table-of-contents ol {
        margin: 0; padding: 0;
    }
    #toc-container > nav.table-of-contents li.toc-list-item ol {
        padding-left: 2em;
    }
    nav.table-of-contents li.toc-list-item a.toc-list-item-link::after {
        display: block;
        content: '';
        margin-bottom: 0.3em;
    }
    span#toc-btn {
        position: absolute;
        display: block;
        left: -28px;
        top: 50%;
        bottom: 0;
        transform: translateY(-50%);
        width: 28px;
        height: 28px;
        cursor: pointer;
        z-index: 1;
        opacity: .5;
    }
    #toc.toc-show span#toc-btn {
        left: 0px;
        transition: left .3s;
    }

    @media screen and (max-width: 412px) {
        #toc {
            display: none;
        }
    }

div#toc.toc-show
    div#toc-container
        h3 目录
        .
            !{post.toc}
    span#toc-btn
        +icon('#map', '28', '28', { width: '28px', height: '28px' })

script.
    ~(function() {
        var btn = document.getElementById('toc-btn');
        var toc = document.getElementById('toc');
        if (btn && toc) {
            btn.addEventListener('click', function () {
                toc.classList.toggle('toc-show');
            });
        }
    })();